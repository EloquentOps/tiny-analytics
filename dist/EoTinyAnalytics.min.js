var EoTinyAnalytics=function(){"use strict";function e({endpoint:e="https://api.europe-west2.gcp.tinybird.co/v0/events",tableName:t,token:n}){if(!t)throw new Error("Missing `tableName` in Tinybird Analytics config");if(!n)throw new Error("Missing `token` in Tinybird Analytics config");function o(){const e=navigator.userAgent||"no user agent",t=function(e){let t="Unknown",n="",o="Unknown",i="";if(/Windows NT/.test(e)){t="Windows";const o=e.match(/Windows NT ([0-9.]+)/);n=o?o[1]:""}else if(/Mac OS X/.test(e)){t="macOS";const o=e.match(/Mac OS X ([0-9_]+)/);n=o?o[1].replace(/_/g,"."):""}else if(/Android/.test(e)){t="Android";const o=e.match(/Android ([0-9.]+)/);n=o?o[1]:""}else if(/iPhone OS/.test(e)){t="iOS";const o=e.match(/iPhone OS ([0-9_]+)/);n=o?o[1].replace(/_/g,"."):""}else if(/iPad; CPU OS/.test(e)){t="iOS";const o=e.match(/CPU OS ([0-9_]+)/);n=o?o[1].replace(/_/g,"."):""}else if(/Linux/.test(e)){t="Linux";const o=e.match(/Linux ([^;\)]+)/);n=o?o[1]:""}if(/HeadlessChrome\//.test(e)){o="HeadlessChrome";const t=e.match(/HeadlessChrome\/([0-9.]+)/);i=t?t[1]:""}else if(!/Chrome\//.test(e)||/Edge\//.test(e)||/OPR\//.test(e)){if(/Safari\//.test(e)&&!/Chrome\//.test(e)){o="Safari";const t=e.match(/Version\/([0-9.]+)/);i=t?t[1]:""}else if(/Firefox\//.test(e)){o="Firefox";const t=e.match(/Firefox\/([0-9.]+)/);i=t?t[1]:""}else if(/Edg\//.test(e)){o="Edge";const t=e.match(/Edg\/([0-9.]+)/);i=t?t[1]:""}else if(/OPR\//.test(e)){o="Opera";const t=e.match(/OPR\/([0-9.]+)/);i=t?t[1]:""}}else{o="Chrome";const t=e.match(/Chrome\/([0-9.]+)/);i=t?t[1]:""}return{os:t,osVersion:n,browser:o,browserVersion:i}}(e);return{url:window.location.href||"no url",referrer:document.referrer||"no referrer",title:document.title||"no title",userAgent:e,language:navigator.language||"no language",screenWidth:window.screen.width||"no screen width",screenHeight:window.screen.height||"no screen height",viewportWidth:window.innerWidth||"no viewport width",viewportHeight:window.innerHeight||"no viewport height",timestamp:(new Date).toISOString(),os:t.os||"no os",osVersion:t.osVersion||"no os version",browser:t.browser||"no browser",browserVersion:t.browserVersion||"no browser version"}}function i(o){fetch(`${e}?name=${encodeURIComponent(t)}&token=${encodeURIComponent(n)}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}).catch((e=>{}))}return i(o()),{collect:o,send:i}}const t=document.currentScript;return e({tableName:t.dataset.tableName,token:t.dataset.token}),e}();
